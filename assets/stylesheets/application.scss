$govuk-assets-path: '~govuk-frontend/govuk/assets/';

@import 'govuk/all';
@import './admin.scss';

$small-screen: 768px;

.rpr-sidebar {
  border-top: 2px solid #1d70b8;
  padding-top: 10px;
}

.rpr-hidden-element {
  display: none;
}

.rpr-details {
  &__sub-group {
    padding: 1em 0 0 0;
    margin: 0;
  }

  &__sub-group-title {
    border-left: 0.5em solid govuk-colour('black');
    padding-left: 0.5em;
  }
}

.rpr-listing {
  &__filters-container {
    background-color: govuk-colour('light-grey');
    padding: 1rem;
  }

  &__filter {
    background-color: govuk-colour('white');
    height: 180px;
    overflow-y: auto;
    // From https://stackoverflow.com/questions/44793453/how-do-i-add-a-top-and-bottom-shadow-while-scrolling-but-only-when-needed
    background: linear-gradient(white 30%, rgba(255, 255, 255, 0)),
      linear-gradient(rgba(255, 255, 255, 0), white 70%) 0 100%,
      radial-gradient(
        50% 0,
        farthest-side,
        rgba(0, 0, 0, 0.2),
        rgba(0, 0, 0, 0)
      ),
      radial-gradient(
          50% 100%,
          farthest-side,
          rgba(0, 0, 0, 0.2),
          rgba(0, 0, 0, 0)
        )
        0 100%;
    background: linear-gradient(white 30%, rgba(255, 255, 255, 0)),
      linear-gradient(rgba(255, 255, 255, 0), white 70%) 0 100%,
      radial-gradient(
        farthest-side at 50% 0,
        rgba(0, 0, 0, 0.2),
        rgba(0, 0, 0, 0)
      ),
      radial-gradient(
          farthest-side at 50% 100%,
          rgba(0, 0, 0, 0.2),
          rgba(0, 0, 0, 0)
        )
        0 100%;
    background-repeat: no-repeat;
    background-color: white;
    background-size: 100% 40px, 100% 40px, 100% 14px, 100% 14px;
    background-attachment: local, local, scroll, scroll;
  }

  &__filters-details-summary {
    display: none;
    @media screen and (max-width: $small-screen) {
      display: block;
    }
  }

  &__filters-details-text {
    border: 0;
    padding-left: 0;
  }

  &__search-criteria-container {
    margin-bottom: 5px;
  }

  &__profession-title:link,
  &__ra-title:link {
    text-decoration: none;
  }

  &__profession-title:hover,
  &__ra-title:hover {
    text-decoration: underline;
  }

  &__profession-summary-list dt,
  &__profession-summary-list dd,
  &__ra-summary-list dt,
  &__ra-summary-list dd {
    padding: 2px 0;
  }

  &__results-found--top {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;
    clip: rect(0 0 0 0) !important;
    -webkit-clip-path: inset(50%) !important;
    clip-path: inset(50%) !important;
    border: 0 !important;
    white-space: nowrap !important;

    @media screen and (max-width: $small-screen) {
      position: relative !important;
      width: auto !important;
      height: auto !important;
      margin: auto !important;
      padding: auto !important;
      overflow: visible !important;
      clip: auto !important;
      -webkit-clip-path: none !important;
      clip-path: none !important;
      border: none !important;
      white-space: none !important;
    }
  }

  &__results-found--right-column {
    display: block;
    @media screen and (max-width: $small-screen) {
      display: none;
    }
  }
}

.rpr-decision-data {
  &__table-page {
    .govuk-width-container {
      max-width: 1200px;
    }
  }

  &__overview {
    .govuk-summary-list__key,
    .govuk-summary-list__value {
      padding: 3px 0;
    }
  }

  &__show-table {
    overflow-x: auto;
    table-layout: fixed;

    th,
    td {
      width: calc(100% / 6);
    }
  }

  &__edit-table {
    overflow-x: auto;
    table-layout: fixed;

    th,
    td {
      width: calc(100% / 7);
    }

    th:first-child,
    td:first-child {
      width: calc(200% / 7);
    }
  }

  &__public-table {
    overflow-x: auto;
    table-layout: fixed;

    th,
    td {
      border: 1px solid govuk-colour('mid-grey');
      padding: 0.4em;
    }

    td:nth-child(2) {
      width: 20%;
    }
  }
}

.rpr-internal {
  &__page {
    .govuk-header__container {
      border-bottom: 10px solid govuk-colour('yellow');
    }
  }

  &__listing {
    .govuk-width-container {
      max-width: 1200px;
    }
  }

  &__table-container {
    overflow-x: auto;
  }

  &-listing {
    &__manage-professions-container {
      margin: 0;
    }

    &__manage-professions-container-left {
      float: left;
      @media screen and (max-width: $small-screen) {
        float: none;
      }
    }

    &__manage-professions-container-right {
      float: right;
      @media screen and (max-width: $small-screen) {
        float: none;
      }
    }

    &__manage-decisions-container {
      margin: 0;
    }

    &__manage-decisions-container-left {
      float: left;
      @media screen and (max-width: $small-screen) {
        float: none;
      }
    }

    &__manage-decisions-container-right {
      float: right;
      @media screen and (max-width: $small-screen) {
        float: none;
      }
    }

    &__filters-container {
      background-color: govuk-colour('light-grey');
      padding: 1rem;
      clear: both;

      .govuk-details__text {
        border: 0;
      }

      .govuk-details {
        margin-bottom: 0;
      }
    }

    &__filter {
      background-color: govuk-colour('white');
      height: 180px;
      overflow-y: auto;
    }

    &__filter-button {
      margin-bottom: 10px;
      background-color: govuk-colour('black');
      color: govuk-colour('white');
    }

    &__filters-details-summary {
      display: block;
    }

    &__file-download-link-container {
      margin: 0;
    }

    &__file-download-link-container-right {
      float: right;
      @media screen and (max-width: $small-screen) {
        float: none;
      }
    }

    &__file-download-link {
      display: block;
      background-image: url(/assets/images/icon-file-download.svg);
      background-repeat: no-repeat;
      background-size: 40px 40px;
      min-height: 2.5em;
      padding: 0 0 0 50px;
    }
  }

  &__details-page {
    &-sidebar {
      border-top: 2px solid govuk-colour('blue');
      padding-top: govuk-spacing(2);

      .govuk-list > li {
        margin-bottom: govuk-spacing(2);
      }

      .govuk-button {
        margin-bottom: 0;
      }
    }

    &-file-download-link {
      display: block;
      background-image: url(/assets/images/icon-file-download.svg);
      background-repeat: no-repeat;
      background-size: 40px 40px;
      min-height: 2.5em;
      padding: 8px 0 0 50px;
    }
  }

  &__buttons-container {
    align-items: center;
  }

  &__regulatory-authority-input-container {
    padding-top: govuk-spacing(3);
    padding-bottom: govuk-spacing(1);
    padding-left: govuk-spacing(4);
    margin-bottom: govuk-spacing(6);
    border-left: $govuk-border-width solid $govuk-border-colour;
  }
}

@media print {
  .rpr-details__page {
    .govuk-back-link,
    .govuk-phase-banner,
    .govuk-button {
      display: none;
    }
  }
}
